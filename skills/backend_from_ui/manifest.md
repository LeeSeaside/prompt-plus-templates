# Skill Manifest: Backend API from UI Analysis

## 技能描述
分析前端页面代码，自动生成后端接口需求文档，供后端开发使用。

## 核心职责
通过分析前端页面的表格、表单、按钮等组件，反推出后端需要实现的接口和数据模型。

## 执行协议

### 1. Context Check (上下文检查)
- 读取 `context.md` 获取前端项目配置
- 如果未初始化，**终止任务**并提示："请先执行项目初始化扫描"

### 2. Input Acquisition (获取需求)
- 从 `skills/backend_from_ui/input/` 读取目标页面路径
- 或直接接收用户指定的页面文件

### 3. Page Analysis (页面分析)

#### 3.1 列表页面分析
- 表格列定义 → 字段列表
- 搜索表单 → 查询参数
- 操作按钮 → 接口需求（新增/编辑/删除/导出）
- 分页组件 → 分页参数

#### 3.2 表单页面分析
- 表单字段 → 数据模型
- 校验规则 → 后端校验需求
- 下拉选项 → 字典接口需求
- 文件上传 → 文件接口需求

#### 3.3 详情页面分析
- 展示字段 → 响应数据结构
- 关联数据 → 关联查询需求

### 4. Documentation Output (文档输出)

在 `skills/backend_from_ui/output/` 生成 `api-requirement-[模块名].md`：

```markdown
# [模块名] 接口需求文档

> 由 backend_from_ui 技能从前端页面分析生成
> 生成时间: [时间]
> 源页面: [页面路径]

## 一、数据模型

### 主实体: [实体名]
| 字段 | 类型 | 必填 | 说明 | 备注 |
|------|------|------|------|------|
| id | number | - | 主键 | 自增 |
| name | string | ✓ | 名称 | 最大50字符 |
| status | number | ✓ | 状态 | 0-禁用 1-启用 |
| createTime | datetime | - | 创建时间 | 自动填充 |
| ... | ... | ... | ... | ... |

## 二、接口列表

### 1. 获取列表
- **路径**: GET /api/[模块]
- **Query 参数**:
  | 参数 | 类型 | 必填 | 说明 |
  |------|------|------|------|
  | page | number | ✗ | 页码，默认1 |
  | pageSize | number | ✗ | 每页数量，默认10 |
  | name | string | ✗ | 名称搜索 |
  | status | number | ✗ | 状态筛选 |
- **响应**: 分页列表

### 2. 获取详情
- **路径**: GET /api/[模块]/:id
- **响应**: 单条记录

### 3. 新增
- **路径**: POST /api/[模块]
- **Body**: 实体字段（不含id、createTime等）

### 4. 更新
- **路径**: PUT /api/[模块]/:id
- **Body**: 实体字段（不含id、createTime等）

### 5. 删除
- **路径**: DELETE /api/[模块]/:id

## 三、业务规则
1. [从页面校验规则推断的业务规则]
2. ...

## 四、字典数据
| 字典名 | 用途 | 选项 |
|--------|------|------|
| status | 状态 | 0-禁用, 1-启用 |

## 五、页面信息（供前端对接使用）
- **列表页**: [页面路径]
- **表单组件**: [组件路径]

---
> 💡 此文档可直接复制到 `skills/backend_api/input/` 供后端开发使用
```

## 约束条件
- 基于实际页面代码分析，不臆造需求
- 输出标准化的接口文档格式
- 标注不确定的推断项
- **必须包含页面路径信息**（供后续 frontend_api 对接使用）
